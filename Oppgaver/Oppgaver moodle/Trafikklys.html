<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=
    
    , initial-scale=1.0">
    <title>Trafikklys</title>
</head>



<body onload="trafikklys()">
    <div class="trafikklys">
        <div id="Grønn" class="Grønn"></div>
        <div id="Gul" class="Gul"></div>
        <div id="Rød" class="Rød"></div>
    </div>
    <br>

    <button id="1" onclick="activeLight(this)">Rødt Lys</button>
    <button id="2" onclick="activeLight(this)">Gult lys</button>
    <button id="3" onclick="activeLight(this)">Grønt lys</button>
    <button onclick="drive()">Kjør</button>
    <br>
    <br>
    
    <div>
        <h3>ReactionTime</h3>
        <ul id="leaderboard">
            <li></li>
        </ul>
    </div>

    <script>
        var startTime;

        function drive() {
            if (Grønn.style.opacity == "1") {
                var clickedTime = Date.now();
                var reactionTime = (clickedTime - startTime) / 1000; //delt på tusen for sekunder

                var leaderboard = document.getElementById("leaderboard");
                leaderboard.innerHTML += /*html*/`<li>${reactionTime}s<li>`
            }

            if (Gul.style.opacity == "1") {
                alert("For tidlig");
                trafikklys();
            }

            if (Rød.style.opacity == "1") {
                alert("Du har fått bot");
                trafikklys();
            }
        }

        function activeLight(element) {
            if (element.id == '1') {
                Grønn.style.opacity = "0%";
                Rød.style.opacity = "100%"
                Gul.style.opacity = "0%";
            }
            else if (element.id == '2') {
                Grønn.style.opacity = "0%";
                Rød.style.opacity = "0%";
                Gul.style.opacity = "100%"
            }
            else if (element.id == '3') {
                Grønn.style.opacity = "100%";
                Rød.style.opacity = "0%";
                Gul.style.opacity = "0%";
            }

            trafikklys();
        }

        function trafikklys() {
            let color = document.querySelectorAll('.Grønn', '.Rød', '.Gul');
            /* let Grønn = document.getElementById("Grønn");
             let Rød = document.getElementById("Rød");
             let Gul = document.getElementById("Gul");*/


            setTimeout(function () {
                Grønn.style.opacity = "100%";
                Rød.style.opacity = "0%";
                Gul.style.opacity = "0%";

                startTime = Date.now()
            }, 3000);


            setTimeout(function () {
                Grønn.style.opacity = "0%";
                Rød.style.opacity = "0%";
                Gul.style.opacity = "100%"
            }, 5000);

            setTimeout(function () {
                Grønn.style.opacity = "0%";
                Rød.style.opacity = "100%"
                Gul.style.opacity = "0%";
            }, 7000);
        }

        var timer = setInterval(function () {
            trafikklys();
        }, 10000);


    </script>

    <style>
        #leaderboard{
            height: 150px;
            width: 150px;
            background-color: rgba(179, 28, 28, 0.719);
            align-items: center;
            border-style: solid;
            list-style: none;
        }





        .trafikklys {

            border-radius: 0%;
            width: 70px;
            height: 240px;
            background-color: rgb(5, 5, 5);
            align-items: center;
            display: flex;
            flex-direction: column;
            justify-content: space-around;

        }

        .Grønn {

            border-radius: 150%;
            padding: 15px;
            width: 30px;
            height: 40px;
            background-color: rgb(4, 104, 4);
            border-style: groove;
            opacity: 15%;


        }

        .Gul {
            border-radius: 50%;
            padding: 15px;
            width: 30px;
            height: 40px;
            background-color: rgb(146, 146, 2);
            border-style: groove;
            opacity: 15%;

        }

        .Rød {
            border-radius: 50%;
            padding: 15px;
            width: 30px;
            height: 40px;
            background-color: rgb(146, 3, 3);
            border-style: groove;
            opacity: 15%;



        }
    </style>



</html>